# F-004 PR作成 バックエンド設計書

## メタ情報
| 項目 | 内容 |
|------|------|
| ドキュメントID | DETAIL-ORCH-004-F004-BE-001 |
| バージョン | 1.0.0 |
| ステータス | ドラフト |
| 作成日 | 2026-01-28 |
| 対応機能ID | F-004 |
| 作成者 | AI Assistant |

## 1. クラス設計
### 1.1 PRCreator クラス
PR作成のロジックをカプセル化する。

```typescript
class PRCreator {
  /**
   * PRを作成する
   * @param issueNumber Issue番号
   * @param branchName ブランチ名
   * @param options オプション（draft, title, body等）
   * @returns PR URL
   */
  async create(
    issueNumber: number,
    branchName: string,
    options: PRCreateOptions
  ): Promise<string>;

  /**
   * 変更をコミットする
   */
  private async commitChanges(message: string): Promise<void>;

  /**
   * ブランチをプッシュする
   */
  private async pushBranch(branchName: string): Promise<void>;
}
```

## 2. gh pr create コマンド詳細
GitHub CLI (`gh`) を使用してPRを作成する際の詳細なコマンドパラメータ。

### 2.1 基本コマンド
```bash
gh pr create \
  --title "TITLE" \
  --body "BODY" \
  --head "BRANCH" \
  --base "main"
```

### 2.2 オプション対応
- `--draft`: 下書きとして作成する場合に使用
- `--assignee "@me"`: 作成者をアサイン（設定により変更可能）
- `--label "auto-generated"`: 自動生成識別用のラベルを付与

## 3. ブランチ命名規則
Worktree環境分離（F-011）との整合性を保つため、以下の規則を採用する。

- 基本形式: `feature/issue-<Issue番号>`
- 例: Issue #42 の場合 -> `feature/issue-42`

これにより、複数のIssueを並列実行した際もブランチ名が衝突することを防ぐ。
